math(EXPR SCRIPT_ARGPARSE_REAL_ARGC "${CMAKE_ARGC} - 1")
foreach (SCRIPT_ARGPARSE_ARGN RANGE ${SCRIPT_ARGPARSE_REAL_ARGC})
  # set(SCRIPT_ARGPARSE_ARGVAR "CMAKE_ARGV${SCRIPT_ARGPARSE_ARGN}")
  set(SCRIPT_ARGPARSE_ARGVAL "${CMAKE_ARGV${SCRIPT_ARGPARSE_ARGN}}")
  # message("${SCRIPT_ARGPARSE_ARGVAR}: ${SCRIPT_ARGPARSE_ARGVAL}")
  if (SCRIPT_ARGPARSE_ARGVAL STREQUAL "-S")
    math(EXPR SCRIPT_ARGPARSE_DASH_S_VAL_ARGN "${SCRIPT_ARGPARSE_ARGN} + 1")
  endif()
  if ((DEFINED SCRIPT_ARGPARSE_DASH_S_VAL_ARGN) AND (SCRIPT_ARGPARSE_DASH_S_VAL_ARGN STREQUAL SCRIPT_ARGPARSE_ARGN) AND (IS_DIRECTORY ${SCRIPT_ARGPARSE_ARGVAL}))
    file(REAL_PATH "${SCRIPT_ARGPARSE_ARGVAL}" CMAKE_CURRENT_SOURCE_DIR EXPAND_TILDE)
  endif()
  if (SCRIPT_ARGPARSE_ARGVAL STREQUAL "--")
    break()
  endif()
endforeach()
